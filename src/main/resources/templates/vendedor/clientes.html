<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Clientes - Sistema de Ventas</title>
	<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex bg-gray-100 min-h-screen font-sans">

<!-- Sidebar -->
<aside class="w-64 bg-gray-800 text-white flex flex-col py-6 px-4">
	<h2 class="text-xl font-bold mb-6 text-center">Sistema de Ventas</h2>
	<nav class="space-y-2">
		<a href="/dashboard" class="block hover:bg-gray-700 p-2 rounded">ğŸ  Inicio</a>
		<a th:href="@{/clientes}" class="block hover:bg-gray-700 p-2 rounded">ğŸ‘¥ Clientes</a>
		<a th:href="@{/productos}" class="block hover:bg-gray-700 p-2 rounded"  sec:authorize="hasRole('ADMIN')">ğŸ“¦ Productos</a>
		<a th:href="@{/ventas}" class="block hover:bg-gray-700 p-2 rounded">ğŸ’° Ventas</a>
		<a href="/reportes" class="block hover:bg-gray-700 p-2 rounded"  sec:authorize="hasRole('ADMIN')" >ğŸ“Š Reportes</a>
		<a th:href="@{/admin/gestionUsuario/nuevo}" class="block hover:bg-gray-700 p-2 rounded" sec:authorize="hasRole('ADMIN')">ğŸ” Gestionar Usuarios</a>
		<a th:href="@{/logout}" class="block text-red-400 hover:text-red-200 p-2 rounded">ğŸšª Cerrar SesiÃ³n</a>
	</nav>
</aside>



<!-- Contenido principal -->
<main class="flex-1 p-8 overflow-auto bg-gray-50">

	<!-- Formulario de Registro de Cliente -->
	<form th:action="@{/clientes/guardar}" th:object="${cliente}" method="post"
		  class="bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto mb-10 space-y-6 border border-gray-200 hover:shadow-xl transition">
		<h2 class="text-2xl font-bold text-gray-800 text-center mb-4">ğŸ‘¥ Registro de Cliente</h2>

		<input type="hidden" th:field="*{id}" />

		<div>
			<label class="block text-sm font-semibold text-gray-700 mb-1">Nombre completo</label>
			<input type="text" th:field="*{nombreCompleto}" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-gray-800 focus:outline-none" placeholder="Ej. Juan PÃ©rez" />
		</div>

		<div class="grid grid-cols-2 gap-6">
			<div>
				<label class="block text-sm font-semibold text-gray-700 mb-1">DNI</label>
				<input type="text" maxlength="8" th:field="*{dni}" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-gray-800 focus:outline-none" placeholder="Ej. 12345678" />
			</div>
			<div>
				<label class="block text-sm font-semibold text-gray-700 mb-1">TelÃ©fono</label>
				<input type="tel" th:field="*{celular}" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-gray-800 focus:outline-none" placeholder="Ej. 987654321" />
			</div>
		</div>

		<div>
			<label class="block text-sm font-semibold text-gray-700 mb-1">DirecciÃ³n</label>
			<input type="text" th:field="*{direccion}" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-gray-800 focus:outline-none" placeholder="Ej. Av. Siempre Viva 123" />
		</div>

		<div>
			<label class="block text-sm font-semibold text-gray-700 mb-1">Email</label>
			<input type="email" th:field="*{email}" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-gray-800 focus:outline-none" placeholder="Ej. perez@example.com" />
		</div>

		<button type="submit" class="w-full bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 rounded-lg shadow-sm transition hover:scale-105">
			ğŸ’¾ Guardar Cliente
		</button>
	</form>

	<!-- Tabla de Clientes -->
	<div class="bg-white p-6 rounded-lg shadow-md max-w-6xl mx-auto border border-gray-200">
		<h2 class="text-xl font-semibold text-gray-800 mb-4">Listado de Clientes</h2>
		<table class="min-w-full text-sm">
			<thead class="bg-gray-200 text-gray-800 font-semibold">
			<tr>
				<th class="px-4 py-2 text-left">#</th>
				<th class="px-4 py-2 text-left">Nombre</th>
				<th class="px-4 py-2 text-left">DNI</th>
				<th class="px-4 py-2 text-left">TelÃ©fono</th>
				<th class="px-4 py-2 text-left">DirecciÃ³n</th>
				<th class="px-4 py-2 text-left">Email</th>
				<th class="px-4 py-2 text-left">Acciones</th>
			</tr>
			</thead>
			<tbody class="text-gray-700" th:if="${clientes != null}">
			<tr th:each="cli : ${clientes}">
				<td class="px-4 py-2" th:text="${cli.id}">1</td>
				<td class="px-4 py-2" th:text="${cli.nombreCompleto}">Juan PÃ©rez</td>
				<td class="px-4 py-2" th:text="${cli.dni}">12345678</td>
				<td class="px-4 py-2" th:text="${cli.celular}">987654321</td>
				<td class="px-4 py-2" th:text="${cli.direccion}">Av. Siempre Viva 123</td>
				<td class="px-4 py-2" th:text="${cli.email}">perez@example.com</td>
				<td class="px-4 py-2 space-x-2">
					<a th:href="@{/clientes/editar(id=${cli.id})}" class="text-blue-600 hover:underline">âœï¸</a>
					<a th:href="@{/clientes/eliminar(id=${cli.id})}" class="text-red-600 hover:underline" onclick="return confirm('Â¿Seguro que deseas eliminar?')">ğŸ—‘ï¸</a>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</main>
</body>
</html>
